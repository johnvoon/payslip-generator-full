webpackJsonp([0],{1020:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1023),a=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=a.default},1021:function(e,t,n){"use strict";function r(e){return function(t){return t(a()),i.default.post("https://payslip-generator-api.herokuapp.com/api/generate_payslip_csv",e).then(function(e){t(o(e.data))})}}function a(){return{type:s.GENERATE_CSV_STARTED}}function o(e){return{type:s.GENERATE_CSV_SUCCESS,csv:e}}function l(){return{type:s.RESET_STATE}}Object.defineProperty(t,"__esModule",{value:!0}),t.uploadCSV=r,t.generateCSVStarted=a,t.generateCSVSuccess=o,t.resetState=l;var u=n(181),i=function(e){return e&&e.__esModule?e:{default:e}}(u),s=n(337)},1022:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.payslipGeneratorFormSelector=void 0;var r=n(336);t.payslipGeneratorFormSelector=(0,r.formValueSelector)("PayslipGenerator")},1023:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=r(a),l=n(1),u=(r(l),function(e){var t=e.children,n=e.customClassNames,r=e.type,a=e.handleClick,l=e.disabled;return o.default.createElement("button",{type:r,className:"btn text-uppercase "+n,onClick:a,disabled:l||!1},t)});t.default=u},1024:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=r(a),l=n(1),u=(r(l),n(1020)),i=r(u),s=function(e){var t=e.pristine,n=e.submitting,r=e.reset,a=e.handleSubmit;return o.default.createElement("div",{className:"btn-toolbar"},o.default.createElement(i.default,{customClassNames:"btn-danger",type:"button",disabled:t||n,handleClick:r},"Reset Field"),o.default.createElement(i.default,{customClassNames:"btn-primary",type:"submit",disabled:n,handleClick:a},"Generate Payslip Data"))};t.default=s},1025:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1024),a=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=a.default},1026:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=r(a),l=n(1),u=(r(l),function(e){var t=e.message;return o.default.createElement("div",{className:"alert alert-danger",role:"alert"},o.default.createElement("span",{className:"","aria-hidden":"true"}),o.default.createElement("span",{className:"sr-only"},"Error:"),t)});t.default=u},1027:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1026),a=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=a.default},1028:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=r(a),l=n(261),u=r(l),i=n(74),s=r(i),c=function(e){var t=e.input,n=e.label,r=e.meta,a=r.touched&&r.error,l=t.value;return o.default.createElement("div",{className:"form-group"},n?o.default.createElement("label",{className:(0,s.default)("input-label",{"text-error":a})},n,o.default.createElement("span",null)):null,o.default.createElement(u.default,{className:"dropzone",activeClassName:"dropzone-active",name:t.name,multiple:!1,onDrop:function(e){return t.onChange(e)}},l?o.default.createElement("div",null,l[0].name):o.default.createElement("div",null,"Drop a .csv file here or click to browse")),a&&o.default.createElement("span",{className:"text-error"},r.error))};t.default=c},1029:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1028),a=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=a.default},1032:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(0),l=r(o),u=n(74),i=r(u),s=function(e){var t=e.input,n=e.label,r=e.type,o=e.meta,u=e.placeholder,s=o.touched&&o.error;return l.default.createElement("div",{className:"form-group"},n?l.default.createElement("label",{className:(0,i.default)("input-label",{"text-error":s})},n,l.default.createElement("span",null)):null,l.default.createElement("input",a({className:(0,i.default)("form-control",{"bg-error":s}),placeholder:u,type:r},t)),s&&l.default.createElement("span",{className:"text-error"},o.error))};t.default=s},1033:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1032),a=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=a.default},1034:function(e,t,n){var r,a=a||function(e){"use strict";if(!(void 0===e||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var t=e.document,n=function(){return e.URL||e.webkitURL||e},r=t.createElementNS("http://www.w3.org/1999/xhtml","a"),a="download"in r,o=function(e){var t=new MouseEvent("click");e.dispatchEvent(t)},l=/constructor/i.test(e.HTMLElement)||e.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent),i=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},s=function(e){var t=function(){"string"==typeof e?n().revokeObjectURL(e):e.remove()};setTimeout(t,4e4)},c=function(e,t,n){t=[].concat(t);for(var r=t.length;r--;){var a=e["on"+t[r]];if("function"==typeof a)try{a.call(e,n||e)}catch(e){i(e)}}},f=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e},d=function(t,i,d){d||(t=f(t));var p,m=this,v=t.type,b="application/octet-stream"===v,y=function(){c(m,"writestart progress write writeend".split(" "))};if(m.readyState=m.INIT,a)return p=n().createObjectURL(t),void setTimeout(function(){r.href=p,r.download=i,o(r),y(),s(p),m.readyState=m.DONE});!function(){if((u||b&&l)&&e.FileReader){var r=new FileReader;return r.onloadend=function(){var t=u?r.result:r.result.replace(/^data:[^;]*;/,"data:attachment/file;");e.open(t,"_blank")||(e.location.href=t),t=void 0,m.readyState=m.DONE,y()},r.readAsDataURL(t),void(m.readyState=m.INIT)}if(p||(p=n().createObjectURL(t)),b)e.location.href=p;else{e.open(p,"_blank")||(e.location.href=p)}m.readyState=m.DONE,y(),s(p)}()},p=d.prototype,m=function(e,t,n){return new d(e,t||e.name||"download",n)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t,n){return t=t||e.name||"download",n||(e=f(e)),navigator.msSaveOrOpenBlob(e,t)}:(p.abort=function(){},p.readyState=p.INIT=0,p.WRITING=1,p.DONE=2,p.error=p.onwritestart=p.onprogress=p.onwrite=p.onabort=p.onerror=p.onwriteend=null,m)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);void 0!==e&&e.exports?e.exports.saveAs=a:null!==n(1035)&&null!==n(1036)&&void 0!==(r=function(){return a}.call(t,n,t,e))&&(e.exports=r)},1035:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1036:function(e,t){(function(t){e.exports=t}).call(t,{})},917:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(0),c=r(s),f=n(1),d=(r(f),n(11)),p=n(336),m=n(1034),v=r(m),b=n(1021),y=n(1027),_=r(y),h=n(1033),E=r(h),S=n(1029),g=r(S),w=n(1025),O=r(w),M=n(1020),C=r(M),N=n(1022),j=function(e){var t=e.payslipGenerator;return i({},t,{filenameValue:(0,N.payslipGeneratorFormSelector)(e,"filename")})},P=function(e){return{onUploadCSV:function(t){return e((0,b.uploadCSV)(t))},onResetState:function(){return e((0,b.resetState)())}}},T=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleSubmit=function(e){var t=n.props,r=t.onUploadCSV;(0,t.reset)(),n.setState({requestSubmitted:!0});var a=new FormData;a.append("file",e.file[0]),r(a).catch(function(e){e.response.status>=400?n.setState({errorMessage:e.response.data.message}):n.setState({errorMessage:e.message})})},n.saveCSVToFile=function(e){var t=new Blob([e],{type:"text/csv;charset=utf-8"});v.default.saveAs(t,(n.props.filenameValue||"payslip")+".csv")},n.state={errorMessage:"",requestSubmitted:!1},n}return l(t,e),u(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.csv,r=t.filenameValue,a=t.handleSubmit,o=t.pristine,l=t.reset,u=t.submitting,i=t.onResetState,s=t.requestSubmitted,f=this.state.errorMessage;return c.default.createElement("main",{className:"container-fluid"},c.default.createElement("h1",null,"Payslip Generator"),c.default.createElement("form",null,c.default.createElement(p.Field,{name:"file",component:g.default,label:"Employee CSV Data Source"}),f&&c.default.createElement(_.default,{message:f}),c.default.createElement(O.default,{pristine:o,submitting:u,reset:l,handleSubmit:a(function(t){return e.handleSubmit(t)})}),n&&c.default.createElement("div",null,c.default.createElement(p.Field,{name:"filename",type:"text",component:E.default,label:"Filename",placeholder:"Enter a file name (optional)"}),c.default.createElement(C.default,{customClassNames:"btn-primary",type:"button",handleClick:function(){e.saveCSVToFile(n),i()}},"Download ",r||"payslip",".csv")),!n&&s&&!f&&c.default.createElement("p",null,"Generating CSV...")))}}]),t}(s.Component);t.default=(0,d.connect)(j,P)((0,p.reduxForm)({form:"PayslipGenerator"})(T))}});